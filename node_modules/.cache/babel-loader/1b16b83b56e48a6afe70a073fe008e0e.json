{"ast":null,"code":"import _slicedToArray from\"/Users/narektsaturyan/Documents/GitHub/Testing/MovieApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{getMovieData,getTrailer}from\"../utilis/Api\";import Moment from\"react-moment\";import LoadingBar from\"./common/loadingBar\";import videoPlaceholder from\"../utilis/videoPlaceholder.png\";function MoviePage(props){var movieId=props.match.params.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),trailer=_useState4[0],setTrailer=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];useEffect(function(){setIsLoading(true);getMovieData(movieId).then(function(res){setMovie(res);return getTrailer(movieId);}).then(function(res){if(res.results[0]===undefined){setTrailer(null);}else{setTrailer(res.results[0].key);}setIsLoading(false);});},[movieId]);var movieTrailer=trailer?/*#__PURE__*/React.createElement(\"div\",{className:\"embed-responsive embed-responsive-16by9\"},/*#__PURE__*/React.createElement(\"iframe\",{className:\"embed-responsive-item\",src:\"https://www.youtube.com/embed/\".concat(trailer,\"?rel=0\"),allowFullScreen:true,title:\"Movie Trailer\"})):/*#__PURE__*/React.createElement(\"img\",{className:\"embed-responsive embed-responsive-16by9\",src:videoPlaceholder,alt:\"movie trailer\"});return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5\"},isLoading?/*#__PURE__*/React.createElement(LoadingBar,null):null,/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{maxWidth:800}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h2\",null,movie.title||movie.name||movie.orginal_title)),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group list-group-flush\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},movieTrailer),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"overview\"},\"Overview : \"),/*#__PURE__*/React.createElement(\"p\",{className:\"overview-p\"},/*#__PURE__*/React.createElement(\"br\",null),movie.overview)),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"span\",null,\"Release Date : \"),/*#__PURE__*/React.createElement(Moment,{format:\"MM/DD/YYYY\"},movie.release_date)))));}export default MoviePage;","map":{"version":3,"sources":["/Users/narektsaturyan/Documents/GitHub/Testing/MovieApp/src/components/moviePage.jsx"],"names":["React","useState","useEffect","getMovieData","getTrailer","Moment","LoadingBar","videoPlaceholder","MoviePage","props","movieId","match","params","id","movie","setMovie","trailer","setTrailer","isLoading","setIsLoading","then","res","results","undefined","key","movieTrailer","maxWidth","title","name","orginal_title","overview","release_date"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,eAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACxB,GAAIC,CAAAA,OAAO,CAAGD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBC,EAAjC,CADwB,cAEEZ,QAAQ,CAAC,EAAD,CAFV,wCAEjBa,KAFiB,eAEVC,QAFU,8BAGMd,QAAQ,CAAC,IAAD,CAHd,yCAGjBe,OAHiB,eAGRC,UAHQ,8BAIUhB,QAAQ,CAAC,KAAD,CAJlB,yCAIjBiB,SAJiB,eAINC,YAJM,eAMxBjB,SAAS,CAAC,UAAM,CACdiB,YAAY,CAAC,IAAD,CAAZ,CAEAhB,YAAY,CAACO,OAAD,CAAZ,CACGU,IADH,CACQ,SAAAC,GAAG,CAAI,CACXN,QAAQ,CAACM,GAAD,CAAR,CAEA,MAAOjB,CAAAA,UAAU,CAACM,OAAD,CAAjB,CACD,CALH,EAMGU,IANH,CAMQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,OAAJ,CAAY,CAAZ,IAAmBC,SAAvB,CAAkC,CAChCN,UAAU,CAAC,IAAD,CAAV,CACD,CAFD,IAEO,CACLA,UAAU,CAACI,GAAG,CAACC,OAAJ,CAAY,CAAZ,EAAeE,GAAhB,CAAV,CACD,CACDL,YAAY,CAAC,KAAD,CAAZ,CACD,CAbH,EAcD,CAjBQ,CAiBN,CAACT,OAAD,CAjBM,CAAT,CAmBA,GAAMe,CAAAA,YAAY,CAAGT,OAAO,cAC1B,2BAAK,SAAS,CAAC,yCAAf,eACE,8BACE,SAAS,CAAC,uBADZ,CAEE,GAAG,yCAAmCA,OAAnC,UAFL,CAGE,eAAe,CAAE,IAHnB,CAIE,KAAK,CAAC,eAJR,EADF,CAD0B,cAU1B,2BACE,SAAS,CAAC,yCADZ,CAEE,GAAG,CAAET,gBAFP,CAGE,GAAG,CAAC,eAHN,EAVF,CAiBA,mBACE,2BAAK,SAAS,CAAC,MAAf,EACGW,SAAS,cAAG,oBAAC,UAAD,MAAH,CAAoB,IADhC,cAEE,2BAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEQ,QAAQ,CAAE,GAAZ,CAA7B,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,8BAAKZ,KAAK,CAACa,KAAN,EAAeb,KAAK,CAACc,IAArB,EAA6Bd,KAAK,CAACe,aAAxC,CADF,CADF,cAIE,0BAAI,SAAS,CAAC,6BAAd,eACE,0BAAI,SAAS,CAAC,iBAAd,EAAiCJ,YAAjC,CADF,cAEE,0BAAI,SAAS,CAAC,iBAAd,eACE,4BAAM,SAAS,CAAC,UAAhB,gBADF,cAEE,yBAAG,SAAS,CAAC,YAAb,eACE,8BADF,CAEGX,KAAK,CAACgB,QAFT,CAFF,CAFF,cASE,0BAAI,SAAS,CAAC,iBAAd,eACE,kDADF,cAEE,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BhB,KAAK,CAACiB,YAAnC,CAFF,CATF,CAJF,CAFF,CADF,CAwBD,CAED,cAAevB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { getMovieData, getTrailer } from \"../utilis/Api\";\nimport Moment from \"react-moment\";\nimport LoadingBar from \"./common/loadingBar\";\nimport videoPlaceholder from \"../utilis/videoPlaceholder.png\";\n\nfunction MoviePage(props) {\n  let movieId = props.match.params.id;\n  const [movie, setMovie] = useState({});\n  const [trailer, setTrailer] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    getMovieData(movieId)\n      .then(res => {\n        setMovie(res);\n\n        return getTrailer(movieId);\n      })\n      .then(res => {\n        if (res.results[0] === undefined) {\n          setTrailer(null);\n        } else {\n          setTrailer(res.results[0].key);\n        }\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  const movieTrailer = trailer ? (\n    <div className=\"embed-responsive embed-responsive-16by9\">\n      <iframe\n        className=\"embed-responsive-item\"\n        src={`https://www.youtube.com/embed/${trailer}?rel=0`}\n        allowFullScreen={true}\n        title=\"Movie Trailer\"\n      />\n    </div>\n  ) : (\n    <img\n      className=\"embed-responsive embed-responsive-16by9\"\n      src={videoPlaceholder}\n      alt=\"movie trailer\"\n    />\n  );\n\n  return (\n    <div className=\"mt-5\">\n      {isLoading ? <LoadingBar /> : null}\n      <div className=\"card\" style={{ maxWidth: 800 }}>\n        <div className=\"card-header\">\n          <h2>{movie.title || movie.name || movie.orginal_title}</h2>\n        </div>\n        <ul className=\"list-group list-group-flush\">\n          <li className=\"list-group-item\">{movieTrailer}</li>\n          <li className=\"list-group-item\">\n            <span className=\"overview\">Overview : </span>\n            <p className=\"overview-p\">\n              <br />\n              {movie.overview}\n            </p>\n          </li>\n          <li className=\"list-group-item\">\n            <span>Release Date : </span>\n            <Moment format=\"MM/DD/YYYY\">{movie.release_date}</Moment>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default MoviePage;\n"]},"metadata":{},"sourceType":"module"}